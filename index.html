<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆäººè¯†å­—å­¦ä¹  - è¯­éŸ³ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', 'SimHei', sans-serif;
            line-height: 1.6;
            background-color: #f5f9ff;
            color: #333;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #4b6cb7, #182848);
            color: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
        }
        
        .word-list {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            max-height: 600px;
            overflow-y: auto;
        }
        
        .word-list h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #4b6cb7;
            font-size: 1.5rem;
        }
        
        .word-item {
            padding: 15px;
            margin: 10px 0;
            background: #f8fafc;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid #4b6cb7;
            font-size: 1.2rem;
        }
        
        .word-item:hover {
            background: #e8f4ff;
            transform: translateX(5px);
        }
        
        .word-item.active {
            background: #dbeafe;
            border-left-color: #1d4ed8;
            font-weight: bold;
        }
        
        .word-display {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            min-height: 400px;
        }
        
        .chinese-character {
            font-size: 5rem;
            text-align: center;
            margin: 20px 0;
            color: #1e40af;
            font-weight: bold;
        }
        
        .pinyin {
            font-size: 1.8rem;
            text-align: center;
            color: #64748b;
            margin-bottom: 20px;
        }
        
        .meaning {
            font-size: 1.2rem;
            line-height: 1.8;
            color: #334155;
            background: #f1f5f9;
            padding: 25px;
            border-radius: 8px;
            border-left: 5px solid #3b82f6;
            margin-bottom: 25px;
            position: relative;
        }
        
        .meaning h3 {
            color: #1e3a8a;
            margin-bottom: 15px;
            font-size: 1.4rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .usage {
            padding: 20px;
            background: #fef7e6;
            border-radius: 8px;
            border-left: 5px solid #f59e0b;
            position: relative;
        }
        
        .usage h4 {
            color: #92400e;
            margin-bottom: 10px;
            font-size: 1.2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .usage-example {
            font-size: 1.1rem;
            color: #78350f;
            line-height: 1.7;
        }
        
        .controls {
            text-align: center;
            margin-top: 30px;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-width: 140px;
        }
        
        .btn-prev {
            background: #64748b;
            color: white;
        }
        
        .btn-next {
            background: #3b82f6;
            color: white;
        }
        
        .btn-voice {
            background: #10b981;
            color: white;
        }
        
        .btn-stop {
            background: #ef4444;
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            color: #64748b;
            font-size: 0.9rem;
            border-top: 1px solid #e2e8f0;
        }
        
        .category-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }
        
        .category-btn {
            padding: 8px 16px;
            background: #e2e8f0;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .category-btn.active {
            background: #3b82f6;
            color: white;
        }
        
        .voice-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .voice-btn {
            padding: 8px 15px;
            background: #e2e8f0;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .voice-btn:hover {
            background: #3b82f6;
            color: white;
        }
        
        .voice-status {
            padding: 10px;
            margin-top: 10px;
            background: #e8f7ff;
            border-radius: 8px;
            text-align: center;
            display: none;
            color: #1e40af;
            font-weight: bold;
        }
        
        .voice-status.active {
            display: block;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }
        
        .voice-icon {
            font-size: 1.2rem;
        }
        
        .btn-icon {
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>æˆäººè¯†å­—å­¦ä¹  - è¯­éŸ³ç‰ˆ</h1>
        <p>ç²¾é€‰æ±‰å­—å­¦ä¹ ï¼Œç‚¹å‡»æŒ‰é’®å¯å¬è¯­éŸ³è§£é‡Šï¼Œå¾®ä¿¡å†…å¯ç›´æ¥ä½¿ç”¨</p>
    </div>
    
    <div class="category-filter" id="categoryFilter">
        <button class="category-btn active" data-category="all">å…¨éƒ¨æ±‰å­—</button>
        <button class="category-btn" data-category="personal">ä¸ªäººç›¸å…³</button>
        <button class="category-btn" data-category="family">å®¶äººç§°å‘¼</button>
        <button class="category-btn" data-category="numbers">æ•°å­—</button>
        <button class="category-btn" data-category="directions">æ–¹å‘ä½ç½®</button>
        <button class="category-btn" data-category="life">æ—¥å¸¸ç”Ÿæ´»</button>
    </div>
    
    <div class="container">
        <div class="word-list" id="wordList">
            <h2>æ±‰å­—åˆ—è¡¨</h2>
            <!-- æ±‰å­—åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
        
        <div class="word-display" id="wordDisplay">
            <div class="chinese-character" id="chineseChar">äºº</div>
            <div class="pinyin" id="pinyin">rÃ©n</div>
            
            <div class="voice-controls">
                <button class="voice-btn" id="playMeaningBtn">
                    <span class="voice-icon">ğŸ”Š</span> å¬è§£é‡Š
                </button>
                <button class="voice-btn" id="playUsageBtn">
                    <span class="voice-icon">ğŸ”Š</span> å¬ä¾‹å¥
                </button>
            </div>
            
            <div class="voice-status" id="voiceStatus">
                è¯­éŸ³æ’­æ”¾ä¸­...
            </div>
            
            <div class="meaning" id="meaning">
                <h3>
                    <span>æ„æ€è§£é‡Š</span>
                    <button class="voice-btn" id="playMeaningSmallBtn" style="font-size: 0.8rem; padding: 4px 10px;">
                        <span class="voice-icon">ğŸ”Š</span>
                    </button>
                </h3>
                <p>äººç±»ï¼Œæœ‰æ™ºæ…§ã€èƒ½åˆ¶é€ å’Œä½¿ç”¨å·¥å…·è¿›è¡ŒåŠ³åŠ¨çš„é«˜ç­‰åŠ¨ç‰©ã€‚ä¹ŸæŒ‡æŸç§äººï¼Œæˆ–æŒ‡äººçš„å“è´¨ã€æ€§æ ¼ã€‚</p>
            </div>
            
            <div class="usage" id="usage">
                <h4>
                    <span>ä½¿ç”¨ç¤ºä¾‹</span>
                    <button class="voice-btn" id="playUsageSmallBtn" style="font-size: 0.8rem; padding: 4px 10px;">
                        <span class="voice-icon">ğŸ”Š</span>
                    </button>
                </h4>
                <p class="usage-example">1. æˆ‘æ˜¯ä¸€ä¸ªä¸­å›½äººã€‚<br>
                2. è¿™ä¸ªäººå¿ƒåœ°å–„è‰¯ã€‚<br>
                3. ä»Šå¤©å…¬å›­é‡Œäººå¾ˆå¤šã€‚</p>
            </div>
        </div>
    </div>
    
    <div class="controls">
        <button class="btn btn-prev" id="prevBtn">
            <span class="btn-icon">â—€</span> ä¸Šä¸€ä¸ª
        </button>
        <button class="btn btn-voice" id="voiceBtn">
            <span class="btn-icon">ğŸ”Š</span> æ’­æ”¾è§£é‡Š
        </button>
        <button class="btn btn-stop" id="stopBtn">
            <span class="btn-icon">â¹</span> åœæ­¢æ’­æ”¾
        </button>
        <button class="btn btn-next" id="nextBtn">
            ä¸‹ä¸€ä¸ª <span class="btn-icon">â–¶</span>
        </button>
    </div>
    
    <div class="footer">
        <p>ä¸“ä¸ºæˆäººè¯†å­—å­¦ä¹ è®¾è®¡ | å¤§å­—ä½“å±•ç¤º | è¯­éŸ³è§£é‡ŠåŠŸèƒ½ | å¾®ä¿¡å†…å¯ç›´æ¥æ‰“å¼€ä½¿ç”¨</p>
        <p style="margin-top: 10px; font-size: 0.8rem;">æç¤ºï¼šç‚¹å‡»æ±‰å­—å¯å¬è§£é‡Šï¼Œæ”¯æŒé”®ç›˜å·¦å³é”®åˆ‡æ¢æ±‰å­—</p>
    </div>

    <script>
        // æ±‰å­—æ•°æ®
        const words = [
            {
                char: "äºº",
                pinyin: "rÃ©n",
                meaning: "äººç±»ï¼Œæœ‰æ™ºæ…§ã€èƒ½åˆ¶é€ å’Œä½¿ç”¨å·¥å…·è¿›è¡ŒåŠ³åŠ¨çš„é«˜ç­‰åŠ¨ç‰©ã€‚ä¹ŸæŒ‡æŸç§äººï¼Œæˆ–æŒ‡äººçš„å“è´¨ã€æ€§æ ¼ã€‚",
                usage: "1. æˆ‘æ˜¯ä¸€ä¸ªä¸­å›½äººã€‚<br>2. è¿™ä¸ªäººå¿ƒåœ°å–„è‰¯ã€‚<br>3. ä»Šå¤©å…¬å›­é‡Œäººå¾ˆå¤šã€‚",
                category: "personal"
            },
            {
                char: "å£",
                pinyin: "kÇ’u",
                meaning: "å˜´å·´ï¼ŒåŠ¨ç‰©è¿›é£Ÿå’Œå‘å£°çš„å™¨å®˜ã€‚ä¹ŸæŒ‡å‡ºå…¥é€šè¿‡çš„åœ°æ–¹ï¼Œå¦‚é—¨å£ã€æ¸¯å£ã€‚",
                usage: "1. è¯·å¼ å¼€å˜´å·´ï¼ˆå£ï¼‰ã€‚<br>2. åŒ»é™¢å…¥å£åœ¨è¿™é‡Œã€‚<br>3. è¿™ä¸ªæ‘å­æœ‰äº”ç™¾å£äººã€‚",
                category: "personal"
            },
            {
                char: "æ‰‹",
                pinyin: "shÇ’u",
                meaning: "äººä½“ä¸Šè‚¢å‰ç«¯èƒ½æ‹¿ä¸œè¥¿çš„éƒ¨åˆ†ã€‚ä¹ŸæŒ‡æ“…é•¿æŸç§æŠ€èƒ½çš„äººï¼Œæˆ–åšæŸç§äº‹æƒ…çš„äººã€‚",
                usage: "1. æˆ‘ç”¨å³æ‰‹å†™å­—ã€‚<br>2. ä»–æ˜¯ä¸€æŠŠå¥½æ‰‹ï¼ˆæŠ€æœ¯å¥½çš„äººï¼‰ã€‚<br>3. è¯·ä¸¾æ‰‹å›ç­”é—®é¢˜ã€‚",
                category: "personal"
            },
            {
                char: "æ—¥",
                pinyin: "rÃ¬",
                meaning: "å¤ªé˜³ã€‚ä¹Ÿè¡¨ç¤ºä¸€å¤©ï¼Œä¸€æ˜¼å¤œã€‚ä¹ŸæŒ‡æ—¶é—´ã€å…‰é˜´ã€‚",
                usage: "1. ä»Šå¤©æ˜¯ä¸ªå¥½å¤©æ°”ã€‚<br>2. æˆ‘æ¯å¤©ï¼ˆæ¯æ—¥ï¼‰é”»ç‚¼èº«ä½“ã€‚<br>3. æ˜ŸæœŸæ—¥æˆ‘ä»¬ä¼‘æ¯ã€‚",
                category: "life"
            },
            {
                char: "æœˆ",
                pinyin: "yuÃ¨",
                meaning: "æœˆäº®ï¼Œåœ°çƒçš„å«æ˜Ÿã€‚ä¹Ÿè¡¨ç¤ºæœˆä»½ï¼Œä¸€å¹´åˆ†ä¸ºåäºŒä¸ªæœˆã€‚",
                usage: "1. ä»Šæ™šçš„æœˆäº®å¾ˆåœ†ã€‚<br>2. ä¸‹ä¸ªæœˆæˆ‘è¦å»åŒ—äº¬ã€‚<br>3. ä¸€ä¸ªæœˆæœ‰30å¤©å·¦å³ã€‚",
                category: "life"
            },
            {
                char: "æ°´",
                pinyin: "shuÇ",
                meaning: "ä¸€ç§æ— è‰²ã€æ— å‘³ã€é€æ˜çš„æ¶²ä½“ï¼ŒåŒ–å­¦å¼ä¸ºHâ‚‚Oï¼Œæ˜¯ç”Ÿå‘½çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚",
                usage: "1. è¯·ç»™æˆ‘ä¸€æ¯æ°´ã€‚<br>2. è‡ªæ¥æ°´å¯ä»¥å–å—ï¼Ÿ<br>3. æ°´æœé‡Œé¢æœ‰å¾ˆå¤šæ°´åˆ†ã€‚",
                category: "life"
            },
            {
                char: "ç«",
                pinyin: "huÇ’",
                meaning: "ç‰©ä½“ç‡ƒçƒ§æ—¶å‘å‡ºçš„å…‰å’Œç„°ã€‚ä¹ŸæŒ‡ç´§æ€¥ã€ç«çˆ†çš„è„¾æ°”ï¼Œæˆ–æŒ‡æªç‚®å¼¹è¯ã€‚",
                usage: "1. å°å¿ƒç«çƒ›ã€‚<br>2. ä»–è„¾æ°”å¾ˆç«æš´ã€‚<br>3. æ¶ˆé˜²å‘˜æ¥ç­ç«äº†ã€‚",
                category: "life"
            },
            {
                char: "å±±",
                pinyin: "shÄn",
                meaning: "åœ°é¢ä¸Šç”±åœŸçŸ³æ„æˆçš„é«˜è€¸éƒ¨åˆ†ã€‚ä¹ŸæŒ‡å½¢çŠ¶åƒå±±çš„ä¸œè¥¿ã€‚",
                usage: "1. æˆ‘å–œæ¬¢çˆ¬å±±ã€‚<br>2. é‚£åº§å±±å¾ˆé«˜ã€‚<br>3. ä¹¦å †å¾—åƒå±±ä¸€æ ·ã€‚",
                category: "life"
            },
            {
                char: "ä¸€",
                pinyin: "yÄ«",
                meaning: "æœ€å°çš„æ­£æ•´æ•°ã€‚ä¹Ÿè¡¨ç¤ºç›¸åŒã€æ•´ä½“ã€åˆæ¬¡ç­‰æ„æ€ã€‚",
                usage: "1. æˆ‘æœ‰ä¸€ä¸ªå­©å­ã€‚<br>2. æˆ‘ä»¬ä¸€èµ·å»å§ã€‚<br>3. æˆ‘ç¬¬ä¸€æ¬¡æ¥åŒ—äº¬ã€‚",
                category: "numbers"
            },
            {
                char: "äºŒ",
                pinyin: "Ã¨r",
                meaning: "æ•°å­—2ï¼Œä¸€åŠ ä¸€çš„å’Œã€‚ä¹ŸæŒ‡ä¸¤æ ·ã€ç¬¬äºŒæ¬¡ã€‚",
                usage: "1. æˆ‘æœ‰ä¸¤ä¸ªè‹¹æœã€‚<br>2. äºŒæœˆæ˜¯ç¬¬äºŒä¸ªæœˆã€‚<br>3. ä¸€åˆ†ä¸ºäºŒã€‚",
                category: "numbers"
            },
            {
                char: "ä¸‰",
                pinyin: "sÄn",
                meaning: "æ•°å­—3ï¼ŒäºŒåŠ ä¸€çš„å’Œã€‚ä¹Ÿè¡¨ç¤ºå¤šæ¬¡æˆ–å¤šæ•°ã€‚",
                usage: "1. ä¸‰ä¸ªäººä¸€èµ·èµ°ã€‚<br>2. å†ä¸‰è€ƒè™‘ã€‚<br>3. ä¸‰æ€è€Œåè¡Œã€‚",
                category: "numbers"
            },
            {
                char: "å",
                pinyin: "shÃ­",
                meaning: "æ•°å­—10ï¼Œä¹åŠ ä¸€çš„å’Œã€‚ä¹Ÿè¡¨ç¤ºå®Œå¤‡ã€è¾¾åˆ°é¡¶ç‚¹ã€‚",
                usage: "1. æˆ‘æœ‰åå—é’±ã€‚<br>2. åå…¨åç¾ã€‚<br>3. ååˆ†æ„Ÿè°¢ã€‚",
                category: "numbers"
            },
            {
                char: "ä¸Š",
                pinyin: "shÃ ng",
                meaning: "ä½ç½®åœ¨é«˜å¤„çš„ï¼Œä¸\"ä¸‹\"ç›¸å¯¹ã€‚ä¹Ÿè¡¨ç¤ºå»ã€åˆ°ï¼Œæˆ–è¡¨ç¤ºæ—¶é—´ã€æ¬¡åºåœ¨å‰ã€‚",
                usage: "1. ä¹¦åœ¨æ¡Œå­ä¸Šã€‚<br>2. æˆ‘ä¸Šç­å»äº†ã€‚<br>3. ä¸Šæ¬¡æˆ‘ä»¬è§è¿‡é¢ã€‚",
                category: "directions"
            },
            {
                char: "ä¸‹",
                pinyin: "xiÃ ",
                meaning: "ä½ç½®åœ¨ä½å¤„çš„ï¼Œä¸\"ä¸Š\"ç›¸å¯¹ã€‚ä¹Ÿè¡¨ç¤ºç¦»å¼€ã€é™è½ï¼Œæˆ–è¡¨ç¤ºæ—¶é—´ã€æ¬¡åºåœ¨åã€‚",
                usage: "1. çŒ«åœ¨æ¤…å­ä¸‹ã€‚<br>2. è¯·ä¸‹è½¦ã€‚<br>3. ä¸‹æ¬¡å†è§ã€‚",
                category: "directions"
            },
            {
                char: "å¤§",
                pinyin: "dÃ ",
                meaning: "åœ¨ä½“ç§¯ã€é¢ç§¯ã€æ•°é‡ã€åŠ›é‡ã€å¼ºåº¦ç­‰æ–¹é¢è¶…è¿‡ä¸€èˆ¬æˆ–è¶…è¿‡æ‰€æ¯”è¾ƒçš„å¯¹è±¡ã€‚",
                usage: "1. è¿™ä¸ªæˆ¿å­å¾ˆå¤§ã€‚<br>2. ä»–æ¯”æˆ‘å¤§ä¸¤å²ã€‚<br>3. å¤§å£°è¯´è¯ã€‚",
                category: "life"
            },
            {
                char: "å°",
                pinyin: "xiÇo",
                meaning: "åœ¨ä½“ç§¯ã€é¢ç§¯ã€æ•°é‡ã€åŠ›é‡ã€å¼ºåº¦ç­‰æ–¹é¢ä¸åŠä¸€èˆ¬çš„æˆ–ä¸åŠæ¯”è¾ƒçš„å¯¹è±¡ã€‚",
                usage: "1. è¿™ä¸ªç®±å­å¾ˆå°ã€‚<br>2. æˆ‘å°æ—¶å€™ä½åœ¨å†œæ‘ã€‚<br>3. å°å£°ä¸€ç‚¹ã€‚",
                category: "life"
            },
            {
                char: "çˆ¸",
                pinyin: "bÃ ",
                meaning: "çˆ¶äº²ï¼Œçˆ¸çˆ¸ã€‚å¯¹ç”Ÿè‚²è‡ªå·±çš„ç”·å­çš„ç§°å‘¼ã€‚",
                usage: "1. æˆ‘çˆ¸çˆ¸æ˜¯å·¥äººã€‚<br>2. çˆ¸çˆ¸ï¼Œæˆ‘å›æ¥äº†ã€‚<br>3. ä»–çˆ¸ä»Šå¹´å…­åå²ã€‚",
                category: "family"
            },
            {
                char: "å¦ˆ",
                pinyin: "mÄ",
                meaning: "æ¯äº²ï¼Œå¦ˆå¦ˆã€‚å¯¹ç”Ÿè‚²è‡ªå·±çš„å¥³å­çš„ç§°å‘¼ã€‚",
                usage: "1. å¦ˆå¦ˆåšçš„é¥­æœ€å¥½åƒã€‚<br>2. æˆ‘å¦ˆå¦ˆæ˜¯æ•™å¸ˆã€‚<br>3. å¦ˆå¦ˆï¼Œæˆ‘æƒ³ä½ ã€‚",
                category: "family"
            },
            {
                char: "ç”·",
                pinyin: "nÃ¡n",
                meaning: "ç”·æ€§ï¼Œç”·äººã€‚ä¸\"å¥³\"ç›¸å¯¹ã€‚ä¹ŸæŒ‡å„¿å­ã€‚",
                usage: "1. ç”·å«ç”Ÿé—´åœ¨å·¦è¾¹ã€‚<br>2. è¿™ä¸ªç”·äººå¾ˆé«˜ã€‚<br>3. ä»–æœ‰ä¸€ç”·ä¸€å¥³ã€‚",
                category: "personal"
            },
            {
                char: "å¥³",
                pinyin: "nÇš",
                meaning: "å¥³æ€§ï¼Œå¥³äººã€‚ä¸\"ç”·\"ç›¸å¯¹ã€‚ä¹ŸæŒ‡å¥³å„¿ã€‚",
                usage: "1. å¥³å«ç”Ÿé—´åœ¨å³è¾¹ã€‚<br>2. è¿™ä¸ªå¥³äººå¾ˆå–„è‰¯ã€‚<br>3. å¥¹ç”Ÿäº†ä¸€ä¸ªå¥³å„¿ã€‚",
                category: "personal"
            },
            {
                char: "åƒ",
                pinyin: "chÄ«",
                meaning: "æŠŠé£Ÿç‰©ç­‰æ”¾åˆ°å˜´é‡Œç»è¿‡å’€åš¼å’½ä¸‹å»ã€‚ä¹ŸæŒ‡ä¾é æŸç§äº‹ç‰©æ¥ç”Ÿæ´»ã€‚",
                usage: "1. æˆ‘ä»¬åƒé¥­å§ã€‚<br>2. åƒè¯æ—¶é—´åˆ°äº†ã€‚<br>3. ä»–é æ‰“å·¥åƒé¥­ã€‚",
                category: "life"
            },
            {
                char: "å–",
                pinyin: "hÄ“",
                meaning: "æŠŠæ¶²ä½“æˆ–æµé£Ÿå’½ä¸‹å»ã€‚ç‰¹æŒ‡å–é…’ã€‚",
                usage: "1. è¯·å–æ°´ã€‚<br>2. æˆ‘å–œæ¬¢å–èŒ¶ã€‚<br>3. ä»–å–äº†ä¸€æ¯ç‰›å¥¶ã€‚",
                category: "life"
            }
        ];

        // å…¨å±€å˜é‡
        let currentIndex = 0;
        let filteredWords = [...words];
        let currentCategory = 'all';
        let isSpeaking = false;
        let currentSpeech = null;

        // æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒè¯­éŸ³åˆæˆ
        function checkSpeechSupport() {
            if (!('speechSynthesis' in window)) {
                alert('æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³åˆæˆåŠŸèƒ½ï¼Œè¯­éŸ³åŠŸèƒ½å°†æ— æ³•ä½¿ç”¨ã€‚å»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆå¾®ä¿¡ã€Chromeæˆ–Edgeæµè§ˆå™¨ã€‚');
                return false;
            }
            return true;
        }

        // åˆå§‹åŒ–æ±‰å­—åˆ—è¡¨
        function initWordList() {
            const wordListElement = document.getElementById('wordList');
            // æ¸…ç©ºç°æœ‰å†…å®¹ï¼Œä½†ä¿ç•™æ ‡é¢˜
            const existingItems = document.querySelectorAll('.word-item');
            existingItems.forEach(item => item.remove());
            
            // æ·»åŠ æ–°çš„æ±‰å­—é¡¹
            filteredWords.forEach((word, index) => {
                const wordItem = document.createElement('div');
                wordItem.className = `word-item ${index === currentIndex ? 'active' : ''}`;
                wordItem.innerHTML = `
                    <strong>${word.char}</strong> - ${word.pinyin}
                `;
                wordItem.addEventListener('click', () => {
                    selectWord(index);
                });
                wordListElement.appendChild(wordItem);
            });
        }

        // é€‰æ‹©æ±‰å­—
        function selectWord(index) {
            currentIndex = index;
            updateDisplay();
            updateWordListSelection();
            scrollToCurrentWord();
            // é€‰æ‹©æ–°å­—æ—¶åœæ­¢æ­£åœ¨æ’­æ”¾çš„è¯­éŸ³
            stopSpeech();
        }

        // æ›´æ–°æ˜¾ç¤ºåŒºåŸŸ
        function updateDisplay() {
            const word = filteredWords[currentIndex];
            document.getElementById('chineseChar').textContent = word.char;
            document.getElementById('pinyin').textContent = word.pinyin;
            document.getElementById('meaning').innerHTML = `
                <h3>
                    <span>æ„æ€è§£é‡Š</span>
                    <button class="voice-btn" id="playMeaningSmallBtn" style="font-size: 0.8rem; padding: 4px 10px;">
                        <span class="voice-icon">ğŸ”Š</span>
                    </button>
                </h3>
                <p>${word.meaning}</p>
            `;
            document.getElementById('usage').innerHTML = `
                <h4>
                    <span>ä½¿ç”¨ç¤ºä¾‹</span>
                    <button class="voice-btn" id="playUsageSmallBtn" style="font-size: 0.8rem; padding: 4px 10px;">
                        <span class="voice-icon">ğŸ”Š</span>
                    </button>
                </h4>
                <p class="usage-example">${word.usage}</p>
            `;
            
            // é‡æ–°ç»‘å®šå°æŒ‰é’®äº‹ä»¶
            document.getElementById('playMeaningSmallBtn').addEventListener('click', playMeaning);
            document.getElementById('playUsageSmallBtn').addEventListener('click', playUsage);
        }

        // æ›´æ–°æ±‰å­—åˆ—è¡¨é€‰æ‹©çŠ¶æ€
        function updateWordListSelection() {
            const wordItems = document.querySelectorAll('.word-item');
            wordItems.forEach((item, index) => {
                if (index === currentIndex) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }

        // æ»šåŠ¨åˆ°å½“å‰é€‰ä¸­çš„æ±‰å­—
        function scrollToCurrentWord() {
            const wordItems = document.querySelectorAll('.word-item');
            if (wordItems[currentIndex]) {
                wordItems[currentIndex].scrollIntoView({
                    behavior: 'smooth',
                    block: 'nearest'
                });
            }
        }

        // æŒ‰åˆ†ç±»ç­›é€‰
        function setupCategoryFilter() {
            const filterButtons = document.querySelectorAll('.category-btn');
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // æ›´æ–°æŒ‰é’®çŠ¶æ€
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // è·å–åˆ†ç±»
                    currentCategory = this.getAttribute('data-category');
                    
                    // ç­›é€‰æ±‰å­—
                    if (currentCategory === 'all') {
                        filteredWords = [...words];
                    } else {
                        filteredWords = words.filter(word => word.category === currentCategory);
                    }
                    
                    // é‡ç½®ç´¢å¼•å¹¶æ›´æ–°æ˜¾ç¤º
                    currentIndex = 0;
                    initWordList();
                    updateDisplay();
                    // åœæ­¢è¯­éŸ³
                    stopSpeech();
                });
            });
        }

        // è¯­éŸ³åŠŸèƒ½
        function speakText(text) {
            // åœæ­¢å½“å‰è¯­éŸ³
            stopSpeech();
            
            // æ£€æŸ¥æµè§ˆå™¨æ”¯æŒ
            if (!checkSpeechSupport()) {
                return;
            }
            
            // åˆ›å»ºè¯­éŸ³å®ä¾‹
            const speech = new SpeechSynthesisUtterance();
            speech.text = text;
            speech.lang = 'zh-CN';
            speech.rate = 0.9; // è¯­é€Ÿç¨æ…¢
            speech.pitch = 1; // éŸ³è°ƒ
            speech.volume = 1; // éŸ³é‡
            
            // æ˜¾ç¤ºè¯­éŸ³çŠ¶æ€
            document.getElementById('voiceStatus').classList.add('active');
            isSpeaking = true;
            currentSpeech = speech;
            
            // è¯­éŸ³ç»“æŸäº‹ä»¶
            speech.onend = function() {
                document.getElementById('voiceStatus').classList.remove('active');
                isSpeaking = false;
                currentSpeech = null;
            };
            
            // è¯­éŸ³é”™è¯¯äº‹ä»¶
            speech.onerror = function(event) {
                console.error('è¯­éŸ³åˆæˆé”™è¯¯:', event);
                document.getElementById('voiceStatus').classList.remove('active');
                isSpeaking = false;
                currentSpeech = null;
                
                // å¾®ä¿¡ç¯å¢ƒä¸‹å¯èƒ½ä¸æ”¯æŒï¼Œç»™å‡ºå‹å¥½æç¤º
                if (isWeChatBrowser()) {
                    document.getElementById('voiceStatus').textContent = "å¾®ä¿¡å†…è¯­éŸ³åŠŸèƒ½æœ‰é™åˆ¶ï¼Œè¯·å°è¯•ä½¿ç”¨æ‰‹æœºæµè§ˆå™¨æ‰“å¼€";
                    document.getElementById('voiceStatus').classList.add('active');
                    setTimeout(() => {
                        document.getElementById('voiceStatus').classList.remove('active');
                    }, 3000);
                }
            };
            
            // å¼€å§‹æ’­æ”¾
            window.speechSynthesis.speak(speech);
        }

        // åœæ­¢è¯­éŸ³
        function stopSpeech() {
            if (window.speechSynthesis && isSpeaking) {
                window.speechSynthesis.cancel();
                document.getElementById('voiceStatus').classList.remove('active');
                isSpeaking = false;
                currentSpeech = null;
            }
        }

        // æ’­æ”¾å½“å‰å­—çš„è§£é‡Š
        function playMeaning() {
            const word = filteredWords[currentIndex];
            const text = `${word.char}ï¼Œæ‹¼éŸ³${word.pinyin}ï¼Œ${word.meaning}`;
            speakText(text);
        }

        // æ’­æ”¾å½“å‰å­—çš„ä¾‹å¥
        function playUsage() {
            const word = filteredWords[currentIndex];
            // ç§»é™¤HTMLæ ‡ç­¾ï¼Œåªä¿ç•™æ–‡æœ¬
            const usageText = word.usage.replace(/<br>/g, ' ').replace(/<\/?[^>]+(>|$)/g, "");
            const text = `${word.char}çš„ä½¿ç”¨ç¤ºä¾‹ï¼š${usageText}`;
            speakText(text);
        }

        // æ’­æ”¾å®Œæ•´è§£é‡Šï¼ˆè§£é‡Š+ä¾‹å¥ï¼‰
        function playFullExplanation() {
            const word = filteredWords[currentIndex];
            const usageText = word.usage.replace(/<br>/g, ' ').replace(/<\/?[^>]+(>|$)/g, "");
            const text = `${word.char}ï¼Œæ‹¼éŸ³${word.pinyin}ï¼Œ${word.meaning}ã€‚ä½¿ç”¨ç¤ºä¾‹ï¼š${usageText}`;
            speakText(text);
        }

        // æ£€æŸ¥æ˜¯å¦åœ¨å¾®ä¿¡æµè§ˆå™¨ä¸­
        function isWeChatBrowser() {
            const ua = navigator.userAgent.toLowerCase();
            return ua.indexOf('micromessenger') !== -1;
        }

        // æ·»åŠ ä¸Šä¸€ä¸ªæŒ‰é’®åŠŸèƒ½
        function prevWord() {
            if (currentIndex > 0) {
                currentIndex--;
                selectWord(currentIndex);
            }
        }

        // æ·»åŠ ä¸‹ä¸€ä¸ªæŒ‰é’®åŠŸèƒ½
        function nextWord() {
            if (currentIndex < filteredWords.length - 1) {
                currentIndex++;
                selectWord(currentIndex);
            }
        }

        // åˆå§‹åŒ–è¯­éŸ³æŒ‰é’®äº‹ä»¶
        function setupVoiceButtons() {
            // ä¸»è¦è¯­éŸ³æŒ‰é’®
            document.getElementById('voiceBtn').addEventListener('click', playFullExplanation);
            document.getElementById('stopBtn').addEventListener('click', stopSpeech);
            
            // å°è¯­éŸ³æŒ‰é’®ï¼ˆè§£é‡ŠåŒºåŸŸï¼‰
            document.getElementById('playMeaningBtn').addEventListener('click', playMeaning);
            document.getElementById('playUsageBtn').addEventListener('click', playUsage);
            
            // ä¸Šä¸‹ä¸€ä¸ªæŒ‰é’®
            document.getElementById('prevBtn').addEventListener('click', prevWord);
            document.getElementById('nextBtn').addEventListener('click', nextWord);
        }

        // åˆå§‹åŒ–
        function init() {
            // æ£€æŸ¥è¯­éŸ³æ”¯æŒ
            checkSpeechSupport();
            
            initWordList();
            updateDisplay();
            setupCategoryFilter();
            setupVoiceButtons();
            
            // æ·»åŠ é”®ç›˜æ”¯æŒ
            document.addEventListener('keydown', function(e) {
                if (e.key === 'ArrowLeft') {
                    prevWord();
                } else if (e.key === 'ArrowRight') {
                    nextWord();
                } else if (e.key === ' ' || e.key === 'Spacebar') {
                    // ç©ºæ ¼é”®æ’­æ”¾/åœæ­¢è¯­éŸ³
                    e.preventDefault();
                    if (isSpeaking) {
                        stopSpeech();
                    } else {
                        playFullExplanation();
                    }
                } else if (e.key === 'Escape') {
                    // ESCé”®åœæ­¢è¯­éŸ³
                    stopSpeech();
                }
            });
            
            // å¾®ä¿¡ç¯å¢ƒæç¤º
            if (isWeChatBrowser()) {
                const footer = document.querySelector('.footer');
                const wechatTip = document.createElement('p');
                wechatTip.style.cssText = 'margin-top: 10px; font-size: 0.8rem; color: #f59e0b;';
                wechatTip.textContent = 'æç¤ºï¼šå¾®ä¿¡å†…è¯­éŸ³åŠŸèƒ½å¯èƒ½å—é™ï¼Œå¦‚éœ€å®Œæ•´è¯­éŸ³åŠŸèƒ½è¯·ç‚¹å‡»å³ä¸Šè§’åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€';
                footer.appendChild(wechatTip);
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ– - ç¡®ä¿DOMå®Œå…¨åŠ è½½
        window.addEventListener('load', init);
        
        // åŒæ—¶æ·»åŠ DOMContentLoadedä½œä¸ºå¤‡ç”¨
        document.addEventListener('DOMContentLoaded', function() {
            // å¦‚æœloadäº‹ä»¶æ²¡æœ‰è§¦å‘ï¼Œè¿™é‡Œç¡®ä¿åˆå§‹åŒ–
            if (!window.pageInitialized) {
                init();
                window.pageInitialized = true;
            }
        });
    </script>
</body>
</html>
